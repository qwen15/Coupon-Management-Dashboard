{"version":3,"sources":["common-async.8742625841545363477.hot-update.js","src/Dialog/Content/index.tsx"],"sourcesContent":["globalThis.makoModuleHotUpdate(\n  'common',\n  {\n    modules: {},\n  },\n  function (runtime) {\n    runtime._h='8425845753817463333';\nruntime.updateEnsure2Map({\".dumi/tmp/dumi/theme/ContextWrapper.tsx\":[\"dumi__tmp__dumi__theme__ContextWrapper\"],\"docs/changelog.md\":[\"vendors\",\"docs/changelog.md\"],\"docs/changelog.md?type=demo\":[\"vendors\",\"common\",\"meta__docs\"],\"docs/changelog.md?type=text\":[\"vendors\",\"common\",\"meta__docs\"],\"docs/demo/ant-design.md\":[\"vendors\",\"docs/demo/ant-design.md\"],\"docs/demo/ant-design.md?type=demo\":[\"vendors\",\"common\",\"meta__docs\"],\"docs/demo/ant-design.md?type=text\":[\"vendors\",\"common\",\"meta__docs\"],\"docs/demo/bootstrap.md\":[\"vendors\",\"docs/demo/bootstrap.md\"],\"docs/demo/bootstrap.md?type=demo\":[\"vendors\",\"common\",\"meta__docs\"],\"docs/demo/bootstrap.md?type=text\":[\"vendors\",\"common\",\"meta__docs\"],\"docs/demo/draggable.md\":[\"vendors\",\"docs/demo/draggable.md\"],\"docs/demo/draggable.md?type=demo\":[\"vendors\",\"common\",\"meta__docs\"],\"docs/demo/draggable.md?type=text\":[\"vendors\",\"common\",\"meta__docs\"],\"docs/demo/multiple-Portal.md\":[\"vendors\",\"docs/demo/multiple-Portal.md\"],\"docs/demo/multiple-Portal.md?type=demo\":[\"vendors\",\"common\",\"meta__docs\"],\"docs/demo/multiple-Portal.md?type=text\":[\"vendors\",\"common\",\"meta__docs\"],\"docs/demo/pure.md\":[\"vendors\",\"docs/demo/pure.md\"],\"docs/demo/pure.md?type=demo\":[\"vendors\",\"common\",\"meta__docs\"],\"docs/demo/pure.md?type=text\":[\"vendors\",\"common\",\"meta__docs\"],\"docs/examples/ant-design.tsx?techStack=react\":[\"vendors\",\"common\",\"demos\"],\"docs/examples/bootstrap.tsx?techStack=react\":[\"vendors\",\"common\",\"demos\"],\"docs/examples/draggable.tsx?techStack=react\":[\"vendors\",\"common\",\"demos\"],\"docs/examples/multiple-Portal.tsx?techStack=react\":[\"vendors\",\"common\",\"demos\"],\"docs/examples/pure.tsx?techStack=react\":[\"vendors\",\"common\",\"demos\"],\"docs/index.md\":[\"vendors\",\"docs/index.md\"],\"docs/index.md?type=demo\":[\"vendors\",\"common\",\"meta__docs\"],\"docs/index.md?type=text\":[\"vendors\",\"common\",\"meta__docs\"],\"node_modules/_dumi@2.4.17@dumi/dist/client/misc/reactDemoCompiler.js\":[\"vendors\",\"node_modules/_dumi@2.4.17@dumi/dist/client/misc/reactDemoCompiler.js\"],\"node_modules/_dumi@2.4.17@dumi/dist/client/pages/404.js\":[\"vendors\",\"nm__dumi__dist__client__pages__404\"],\"node_modules/_dumi@2.4.17@dumi/dist/client/pages/Demo/index.js\":[\"vendors\",\"nm__dumi__dist__client__pages__Demo__index\"],\"node_modules/_dumi@2.4.17@dumi/theme-default/layouts/DocLayout/index.js\":[\"vendors\",\"node_modules/_dumi@2.4.17@dumi/theme-default/layouts/DocLayout/index.js\"],\"node_modules/_react-dom@18.3.1@react-dom/server.browser.js\":[\"vendors\",\"node_modules/_react-dom@18.3.1@react-dom/server.browser.js\"]});;\n  },\n);\n","import * as React from 'react';\nimport { useRef } from 'react';\nimport classNames from 'classnames';\nimport CSSMotion from '@rc-component/motion';\nimport { offset } from '../../util';\nimport type { PanelProps, PanelRef } from './Panel';\nimport Panel from './Panel';\n\nexport type ContentRef = PanelRef & {\n  inMotion: () => boolean;\n  enableMotion: () => boolean;\n};\n\nexport type ContentProps = {\n  motionName: string;\n  ariaId: string;\n  onVisibleChanged: (visible: boolean) => void;\n} & PanelProps;\n\nconst Content = React.forwardRef<ContentRef, ContentProps>((props, ref) => {\n  const {\n    prefixCls,\n    title,\n    style,\n    className,\n    visible,\n    forceRender,\n    destroyOnClose,\n    motionName,\n    ariaId,\n    onVisibleChanged,\n    mousePosition,\n  } = props;\n\n  const dialogRef = useRef<{\n    nativeElement: HTMLDivElement;\n    inMotion: () => boolean;\n    enableMotion: () => boolean;\n  }>();\n\n  const panelRef = useRef<PanelRef>();\n\n  // ============================== Refs ==============================\n  React.useImperativeHandle(ref, () => ({\n    ...panelRef.current,\n    inMotion: dialogRef.current.inMotion,\n    enableMotion: dialogRef.current.enableMotion,\n  }));\n\n  // ============================= Style ==============================\n  const [transformOrigin, setTransformOrigin] = React.useState<string>();\n  const contentStyle: React.CSSProperties = {};\n\n  if (transformOrigin) {\n    contentStyle.transformOrigin = transformOrigin;\n  }\n\n  function onPrepare() {\n    const elementOffset = offset(dialogRef.current.nativeElement);\n\n    setTransformOrigin(\n      mousePosition && (mousePosition.x || mousePosition.y)\n        ? `${mousePosition.x - elementOffset.left}px ${mousePosition.y - elementOffset.top}px`\n        : '',\n    );\n  }\n\n  // ============================= Render =============================\n  return (\n    <CSSMotion\n      visible={visible}\n      onVisibleChanged={onVisibleChanged}\n      onAppearPrepare={onPrepare}\n      onEnterPrepare={onPrepare}\n      forceRender={forceRender}\n      motionName={motionName}\n      removeOnLeave={destroyOnClose}\n      ref={dialogRef}\n    >\n      {({ className: motionClassName, style: motionStyle }, motionRef) => (\n        <Panel\n          {...props}\n          ref={panelRef}\n          title={title}\n          ariaId={ariaId}\n          prefixCls={prefixCls}\n          holderRef={motionRef}\n          style={{ ...motionStyle, ...style, ...contentStyle }}\n          className={classNames(className, motionClassName)}\n        />\n      )}\n    </CSSMotion>\n  );\n});\n\nContent.displayName = 'Content';\n\nexport default Content;\n"],"names":[],"mappings":"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"}