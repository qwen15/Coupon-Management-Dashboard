{"version":3,"sources":["src/Dialog/Content/MemoChildren.tsx","src/Dialog/Content/Panel.tsx","src/Dialog/Content/index.tsx","src/Dialog/Mask.tsx","src/Dialog/index.tsx","src/DialogWrap.tsx","src/context.ts","src/index.ts","src/util.ts"],"sourcesContent":["import * as React from 'react';\n\nexport type MemoChildrenProps = {\n  shouldUpdate: boolean;\n  children: React.ReactNode;\n};\n\nexport default React.memo(\n  ({ children }: MemoChildrenProps) => children as React.ReactElement,\n  (_, { shouldUpdate }) => !shouldUpdate,\n);\n","import classNames from 'classnames';\nimport { useComposeRef } from '@rc-component/util/lib/ref';\nimport React, { useMemo, useRef } from 'react';\nimport { RefContext } from '../../context';\nimport type { IDialogPropTypes } from '../../IDialogPropTypes';\nimport MemoChildren from './MemoChildren';\nimport pickAttrs from '@rc-component/util/lib/pickAttrs';\n\nconst sentinelStyle = { width: 0, height: 0, overflow: 'hidden', outline: 'none' };\nconst entityStyle = { outline: 'none' };\n\nexport interface PanelProps extends Omit<IDialogPropTypes, 'getOpenCount'> {\n  prefixCls: string;\n  ariaId?: string;\n  onMouseDown?: React.MouseEventHandler;\n  onMouseUp?: React.MouseEventHandler;\n  holderRef?: React.Ref<HTMLDivElement>;\n}\n\nexport type PanelRef = {\n  focus: () => void;\n  changeActive: (next: boolean) => void;\n};\n\nconst Panel = React.forwardRef<PanelRef, PanelProps>((props, ref) => {\n  const {\n    prefixCls,\n    className,\n    style,\n    title,\n    ariaId,\n    footer,\n    closable,\n    closeIcon,\n    onClose,\n    children,\n    bodyStyle,\n    bodyProps,\n    modalRender,\n    onMouseDown,\n    onMouseUp,\n    holderRef,\n    visible,\n    forceRender,\n    width,\n    height,\n    classNames: modalClassNames,\n    styles: modalStyles,\n  } = props;\n\n  // ================================= Refs =================================\n  const { panel: panelRef } = React.useContext(RefContext);\n\n  const mergedRef = useComposeRef(holderRef, panelRef);\n\n  const sentinelStartRef = useRef<HTMLDivElement>();\n  const sentinelEndRef = useRef<HTMLDivElement>();\n\n  React.useImperativeHandle(ref, () => ({\n    focus: () => {\n      sentinelStartRef.current?.focus({ preventScroll: true });\n    },\n    changeActive: (next) => {\n      const { activeElement } = document;\n      if (next && activeElement === sentinelEndRef.current) {\n        sentinelStartRef.current.focus({ preventScroll: true });\n      } else if (!next && activeElement === sentinelStartRef.current) {\n        sentinelEndRef.current.focus({ preventScroll: true });\n      }\n    },\n  }));\n\n  // ================================ Style =================================\n  const contentStyle: React.CSSProperties = {};\n\n  if (width !== undefined) {\n    contentStyle.width = width;\n  }\n  if (height !== undefined) {\n    contentStyle.height = height;\n  }\n  // ================================ Render ================================\n  const footerNode = footer ? (\n    <div\n      className={classNames(`${prefixCls}-footer`, modalClassNames?.footer)}\n      style={{ ...modalStyles?.footer }}\n    >\n      {footer}\n    </div>\n  ) : null;\n\n  const headerNode = title ? (\n    <div\n      className={classNames(`${prefixCls}-header`, modalClassNames?.header)}\n      style={{ ...modalStyles?.header }}\n    >\n      <div\n        className={classNames(`${prefixCls}-title`, modalClassNames?.title)}\n        id={ariaId}\n        style={{ ...modalStyles?.title }}\n      >\n        {title}\n      </div>\n    </div>\n  ) : null;\n\n  const closableObj = useMemo(() => {\n    if (typeof closable === 'object' && closable !== null) {\n      return closable;\n    }\n    if (closable) {\n      return { closeIcon: closeIcon ?? <span className={`${prefixCls}-close-x`} /> };\n    }\n    return {};\n  }, [closable, closeIcon, prefixCls]);\n\n  const ariaProps = pickAttrs(closableObj, true);\n  const closeBtnIsDisabled = typeof closable === 'object' && closable.disabled;\n\n  const closerNode = closable ? (\n    <button\n      type=\"button\"\n      onClick={onClose}\n      aria-label=\"Close\"\n      {...ariaProps}\n      className={`${prefixCls}-close`}\n      disabled={closeBtnIsDisabled}\n    >\n      {closableObj.closeIcon}\n    </button>\n  ) : null;\n\n  const content = (\n    <div\n      className={classNames(`${prefixCls}-section`, modalClassNames?.section)}\n      style={modalStyles?.section}\n    >\n      {closerNode}\n      {headerNode}\n      <div\n        className={classNames(`${prefixCls}-body`, modalClassNames?.body)}\n        style={{ ...bodyStyle, ...modalStyles?.body }}\n        {...bodyProps}\n      >\n        {children}\n      </div>\n      {footerNode}\n    </div>\n  );\n\n  return (\n    <div\n      key=\"dialog-element\"\n      role=\"dialog\"\n      aria-labelledby={title ? ariaId : null}\n      aria-modal=\"true\"\n      ref={mergedRef}\n      style={{ ...style, ...contentStyle }}\n      className={classNames(prefixCls, className)}\n      onMouseDown={onMouseDown}\n      onMouseUp={onMouseUp}\n    >\n      <div ref={sentinelStartRef} tabIndex={0} style={entityStyle}>\n        <MemoChildren shouldUpdate={visible || forceRender}>\n          {modalRender ? modalRender(content) : content}\n        </MemoChildren>\n      </div>\n      <div tabIndex={0} ref={sentinelEndRef} style={sentinelStyle} />\n    </div>\n  );\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  Panel.displayName = 'Panel';\n}\n\nexport default Panel;\n","import * as React from 'react';\nimport { useRef } from 'react';\nimport classNames from 'classnames';\nimport CSSMotion from '@rc-component/motion';\nimport { offset } from '../../util';\nimport type { PanelProps, PanelRef } from './Panel';\nimport Panel from './Panel';\nimport type { CSSMotionRef } from '@rc-component/motion/es/CSSMotion';\n\nexport type CSSMotionStateRef = Pick<CSSMotionRef, 'inMotion' | 'enableMotion'>;\n\nexport type ContentRef = PanelRef & CSSMotionStateRef;\n\nexport type ContentProps = {\n  motionName: string;\n  ariaId: string;\n  onVisibleChanged: (visible: boolean) => void;\n} & PanelProps;\n\nconst Content = React.forwardRef<ContentRef, ContentProps>((props, ref) => {\n  const {\n    prefixCls,\n    title,\n    style,\n    className,\n    visible,\n    forceRender,\n    destroyOnClose,\n    motionName,\n    ariaId,\n    onVisibleChanged,\n    mousePosition,\n  } = props;\n\n  const dialogRef = useRef<\n    {\n      nativeElement: HTMLElement;\n    } & CSSMotionStateRef\n  >();\n\n  const panelRef = useRef<PanelRef>();\n\n  // ============================== Refs ==============================\n  React.useImperativeHandle(ref, () => ({\n    ...panelRef.current,\n    inMotion: dialogRef.current.inMotion,\n    enableMotion: dialogRef.current.enableMotion,\n  }));\n\n  // ============================= Style ==============================\n  const [transformOrigin, setTransformOrigin] = React.useState<string>();\n  const contentStyle: React.CSSProperties = {};\n\n  if (transformOrigin) {\n    contentStyle.transformOrigin = transformOrigin;\n  }\n\n  function onPrepare() {\n    const elementOffset = offset(dialogRef.current.nativeElement);\n\n    setTransformOrigin(\n      mousePosition && (mousePosition.x || mousePosition.y)\n        ? `${mousePosition.x - elementOffset.left}px ${mousePosition.y - elementOffset.top}px`\n        : '',\n    );\n  }\n\n  // ============================= Render =============================\n  return (\n    <CSSMotion\n      visible={visible}\n      onVisibleChanged={onVisibleChanged}\n      onAppearPrepare={onPrepare}\n      onEnterPrepare={onPrepare}\n      forceRender={forceRender}\n      motionName={motionName}\n      removeOnLeave={destroyOnClose}\n      ref={dialogRef}\n    >\n      {({ className: motionClassName, style: motionStyle }, motionRef) => (\n        <Panel\n          {...props}\n          ref={panelRef}\n          title={title}\n          ariaId={ariaId}\n          prefixCls={prefixCls}\n          holderRef={motionRef}\n          style={{ ...motionStyle, ...style, ...contentStyle }}\n          className={classNames(className, motionClassName)}\n        />\n      )}\n    </CSSMotion>\n  );\n});\n\nContent.displayName = 'Content';\n\nexport default Content;\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport CSSMotion from '@rc-component/motion';\n\nexport type MaskProps = {\n  prefixCls: string;\n  visible: boolean;\n  motionName?: string;\n  style?: React.CSSProperties;\n  maskProps?: React.HTMLAttributes<HTMLDivElement>;\n  className?: string;\n};\n\nconst Mask: React.FC<MaskProps> = (props) => {\n  const { prefixCls, style, visible, maskProps, motionName, className } = props;\n  return (\n    <CSSMotion\n      key=\"mask\"\n      visible={visible}\n      motionName={motionName}\n      leavedClassName={`${prefixCls}-mask-hidden`}\n    >\n      {({ className: motionClassName, style: motionStyle }, ref) => (\n        <div\n          ref={ref}\n          style={{ ...motionStyle, ...style }}\n          className={classNames(`${prefixCls}-mask`, motionClassName, className)}\n          {...maskProps}\n        />\n      )}\n    </CSSMotion>\n  );\n};\n\nexport default Mask;\n","import classNames from 'classnames';\nimport contains from '@rc-component/util/lib/Dom/contains';\nimport useId from '@rc-component/util/lib/hooks/useId';\nimport KeyCode from '@rc-component/util/lib/KeyCode';\nimport pickAttrs from '@rc-component/util/lib/pickAttrs';\nimport * as React from 'react';\nimport { useEffect, useRef } from 'react';\nimport type { IDialogPropTypes } from '../IDialogPropTypes';\nimport { getMotionName } from '../util';\nimport Content, { type ContentRef } from './Content';\nimport Mask from './Mask';\nimport { warning } from '@rc-component/util/lib/warning';\n\nconst Dialog: React.FC<IDialogPropTypes> = (props) => {\n  const {\n    prefixCls = 'rc-dialog',\n    zIndex,\n    visible = false,\n    keyboard = true,\n    focusTriggerAfterClose = true,\n    // scrollLocker,\n    // Wrapper\n    wrapStyle,\n    wrapClassName,\n    wrapProps,\n    onClose,\n    afterOpenChange,\n    afterClose,\n\n    // Dialog\n    transitionName,\n    animation,\n    closable = true,\n\n    // Mask\n    mask = true,\n    maskTransitionName,\n    maskAnimation,\n    maskClosable = true,\n    maskStyle,\n    maskProps,\n    rootClassName,\n    rootStyle,\n    classNames: modalClassNames,\n    styles: modalStyles,\n  } = props;\n\n  if (process.env.NODE_ENV !== 'production') {\n    ['wrapStyle', 'bodyStyle', 'maskStyle'].forEach((prop) => {\n      // (prop in props) && console.error(`Warning: ${prop} is deprecated, please use styles instead.`)\n      warning(!(prop in props), `${prop} is deprecated, please use styles instead.`);\n    });\n    if ('wrapClassName' in props) {\n      warning(false, `wrapClassName is deprecated, please use classNames instead.`);\n    }\n  }\n\n  const lastOutSideActiveElementRef = useRef<HTMLElement>();\n  const wrapperRef = useRef<HTMLDivElement>();\n  const contentRef = useRef<ContentRef>();\n\n  const [animatedVisible, setAnimatedVisible] = React.useState(visible);\n\n  // ========================== Init ==========================\n  const ariaId = useId();\n\n  function saveLastOutSideActiveElementRef() {\n    if (!contains(wrapperRef.current, document.activeElement)) {\n      lastOutSideActiveElementRef.current = document.activeElement as HTMLElement;\n    }\n  }\n\n  function focusDialogContent() {\n    if (!contains(wrapperRef.current, document.activeElement)) {\n      contentRef.current?.focus();\n    }\n  }\n\n  // ========================= Events =========================\n  // Close action will trigger by:\n  //   1. When hide motion end\n  //   2. Controlled `open` to `false` immediately after set to `true` which will not trigger motion\n  function doClose() {\n    // Clean up scroll bar & focus back\n    setAnimatedVisible(false);\n\n    if (mask && lastOutSideActiveElementRef.current && focusTriggerAfterClose) {\n      try {\n        lastOutSideActiveElementRef.current.focus({ preventScroll: true });\n      } catch (e) {\n        // Do nothing\n      }\n      lastOutSideActiveElementRef.current = null;\n    }\n\n    // Trigger afterClose only when change visible from true to false\n    if (animatedVisible) {\n      afterClose?.();\n    }\n  }\n\n  function onDialogVisibleChanged(newVisible: boolean) {\n    // Try to focus\n    if (newVisible) {\n      focusDialogContent();\n    } else {\n      doClose();\n    }\n    afterOpenChange?.(newVisible);\n  }\n\n  function onInternalClose(e: React.SyntheticEvent) {\n    onClose?.(e);\n  }\n\n  // >>> Content\n  const contentClickRef = useRef(false);\n  const contentTimeoutRef = useRef<ReturnType<typeof setTimeout>>();\n\n  // We need record content click incase content popup out of dialog\n  const onContentMouseDown: React.MouseEventHandler = () => {\n    clearTimeout(contentTimeoutRef.current);\n    contentClickRef.current = true;\n  };\n\n  const onContentMouseUp: React.MouseEventHandler = () => {\n    contentTimeoutRef.current = setTimeout(() => {\n      contentClickRef.current = false;\n    });\n  };\n\n  // >>> Wrapper\n  // Close only when element not on dialog\n  let onWrapperClick: (e: React.SyntheticEvent) => void = null;\n  if (maskClosable) {\n    onWrapperClick = (e) => {\n      if (contentClickRef.current) {\n        contentClickRef.current = false;\n      } else if (wrapperRef.current === e.target) {\n        onInternalClose(e);\n      }\n    };\n  }\n\n  function onWrapperKeyDown(e: React.KeyboardEvent<HTMLDivElement>) {\n    if (keyboard && e.keyCode === KeyCode.ESC) {\n      e.stopPropagation();\n      onInternalClose(e);\n      return;\n    }\n\n    // keep focus inside dialog\n    if (visible && e.keyCode === KeyCode.TAB) {\n      contentRef.current.changeActive(!e.shiftKey);\n    }\n  }\n\n  // ========================= Effect =========================\n  useEffect(() => {\n    if (visible) {\n      setAnimatedVisible(true);\n      saveLastOutSideActiveElementRef();\n    } else if (\n      animatedVisible &&\n      contentRef.current.enableMotion() &&\n      !contentRef.current.inMotion()\n    ) {\n      doClose();\n    }\n  }, [visible]);\n\n  // Remove direct should also check the scroll bar update\n  useEffect(\n    () => () => {\n      clearTimeout(contentTimeoutRef.current);\n    },\n    [],\n  );\n\n  const mergedStyle: React.CSSProperties = {\n    zIndex,\n    ...wrapStyle,\n    ...modalStyles?.wrapper,\n    display: !animatedVisible ? 'none' : null,\n  };\n\n  // ========================= Render =========================\n  return (\n    <div\n      className={classNames(`${prefixCls}-root`, rootClassName)}\n      style={rootStyle}\n      {...pickAttrs(props, { data: true })}\n    >\n      <Mask\n        prefixCls={prefixCls}\n        visible={mask && visible}\n        motionName={getMotionName(prefixCls, maskTransitionName, maskAnimation)}\n        style={{ zIndex, ...maskStyle, ...modalStyles?.mask }}\n        maskProps={maskProps}\n        className={modalClassNames?.mask}\n      />\n      <div\n        tabIndex={-1}\n        onKeyDown={onWrapperKeyDown}\n        className={classNames(`${prefixCls}-wrap`, wrapClassName, modalClassNames?.wrapper)}\n        ref={wrapperRef}\n        onClick={onWrapperClick}\n        style={mergedStyle}\n        {...wrapProps}\n      >\n        <Content\n          {...props}\n          onMouseDown={onContentMouseDown}\n          onMouseUp={onContentMouseUp}\n          ref={contentRef}\n          closable={closable}\n          ariaId={ariaId}\n          prefixCls={prefixCls}\n          visible={visible && animatedVisible}\n          onClose={onInternalClose}\n          onVisibleChanged={onDialogVisibleChanged}\n          motionName={getMotionName(prefixCls, transitionName, animation)}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Dialog;\n","import Portal from '@rc-component/portal';\nimport * as React from 'react';\nimport { RefContext } from './context';\nimport Dialog from './Dialog';\nimport type { IDialogPropTypes } from './IDialogPropTypes';\n\n// fix issue #10656\n/*\n * getContainer remarks\n * Custom container should not be return, because in the Portal component, it will remove the\n * return container element here, if the custom container is the only child of it's component,\n * like issue #10656, It will has a conflict with removeChild method in react-dom.\n * So here should add a child (div element) to custom container.\n * */\n\nconst DialogWrap: React.FC<IDialogPropTypes> = (props) => {\n  const {\n    visible,\n    getContainer,\n    forceRender,\n    destroyOnClose = false,\n    afterClose,\n    panelRef,\n  } = props;\n  const [animatedVisible, setAnimatedVisible] = React.useState<boolean>(visible);\n\n  const refContext = React.useMemo(() => ({ panel: panelRef }), [panelRef]);\n\n  React.useEffect(() => {\n    if (visible) {\n      setAnimatedVisible(true);\n    }\n  }, [visible]);\n\n  // Destroy on close will remove wrapped div\n  if (!forceRender && destroyOnClose && !animatedVisible) {\n    return null;\n  }\n\n  return (\n    <RefContext.Provider value={refContext}>\n      <Portal\n        open={visible || forceRender || animatedVisible}\n        autoDestroy={false}\n        getContainer={getContainer}\n        autoLock={visible || animatedVisible}\n      >\n        <Dialog\n          {...props}\n          destroyOnClose={destroyOnClose}\n          afterClose={() => {\n            afterClose?.();\n            setAnimatedVisible(false);\n          }}\n        />\n      </Portal>\n    </RefContext.Provider>\n  );\n};\n\nDialogWrap.displayName = 'Dialog';\n\nexport default DialogWrap;\n","import * as React from 'react';\n\nexport interface RefContextProps {\n  panel?: React.Ref<HTMLDivElement>;\n}\n\nexport const RefContext = React.createContext<RefContextProps>({});\n","import DialogWrap from './DialogWrap';\nimport Panel from './Dialog/Content/Panel';\nimport type { IDialogPropTypes as DialogProps } from './IDialogPropTypes';\n\nexport type { DialogProps };\nexport { Panel };\n\nexport default DialogWrap;\n","// =============================== Motion ===============================\nexport function getMotionName(prefixCls: string, transitionName?: string, animationName?: string) {\n  let motionName = transitionName;\n  if (!motionName && animationName) {\n    motionName = `${prefixCls}-${animationName}`;\n  }\n  return motionName;\n}\n\n// =============================== Offset ===============================\nfunction getScroll(w: Window, top?: boolean): number {\n  let ret = w[`page${top ? 'Y' : 'X'}Offset`];\n  const method = `scroll${top ? 'Top' : 'Left'}`;\n  if (typeof ret !== 'number') {\n    const d = w.document;\n    ret = d.documentElement[method];\n    if (typeof ret !== 'number') {\n      ret = d.body[method];\n    }\n  }\n  return ret;\n}\n\ntype CompatibleDocument = {\n  parentWindow?: Window;\n} & Document;\n\nexport function offset(el: Element) {\n  const rect = el.getBoundingClientRect();\n  const pos = {\n    left: rect.left,\n    top: rect.top,\n  };\n  const doc = el.ownerDocument as CompatibleDocument;\n  const w = doc.defaultView || doc.parentWindow;\n  pos.left += getScroll(w);\n  pos.top += getScroll(w, true);\n  return pos;\n}\n"],"names":[],"mappings":"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"}